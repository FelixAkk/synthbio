%
\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{fullpage}
\usepackage{amsmath,amssymb}
\usepackage[colorlinks]{hyperref} % use colored text in stead of ugly boxes
\usepackage[toc]{multitoc} % Nice two-column TOC

%~ \usepackage{enumerate} 
\usepackage{pgf}
\usepackage{tikz}
\usepackage{pictures/tikz-uml}

%~ \usepackage{listings}
%~ \lstset{language=java, tabsize=4, frame=single,basicstyle=\scriptsize}

\title{{\sc Draft} \\Programming Life - Requirements Analysis and Design }

\author{Group 5/E:\\
Felix Akkermans \\
Niels Doekemeijer \\
Thomas van Helden \\
Albert ten Napel \\
Jan Pieter Waagmeester}

\begin{document}
\maketitle

\vfill

\small{\tableofcontents}
\pagebreak
\section{Introduction} 		% (Niels)
The purpose of biotechnology is to use micro-organisms like moulds and bacteria for the production of chemical substances. These chemical substances are used as energy (biofuels), in products (bioplastics), in food and in medicine. Not only can these micro-organisms produce, they can also be used to break down chemical substances, for example in the purification of water\footnote{Programming Life – Contextproject assignment (Dick de Ridder, Marcel Reinders)}.

Using molecular biology, these micro-organisms can be altered to add, change or remove functionality. This is done by mutating the DNA of the organism. Synthetic biology is the science in which biology and engineering are combined to create new biological functionality\footnote{Programming Life – Contextproject kickoff (Dick de Ridder, Marcel Reinders)}. The engineering part is made easier by using biobricks\footnote{\url{http://biobricks.org/}}. These ``bricks" are simple genetic circuits which provide a basic functionality (for example the imitation of an OR or AND gate) and share a common interface. By combining these biobricks, a new biological systems can be engineered.

In its abstract form, this system can be visualized as a logical circuit, but in the organism the circuit corresponds with a group of molecules (proteins, genes, RNA) that react with each other. How (and if) they will react depends on many different elements, like the concentration and reaction speed of a protein. This reaction can be simulated using a (heavily) simplified model\footnotemark[1].

A logical circuit of biobricks can be defined using the System Biology Markup Language (SBML). SBML is a free and open interchange format for computer models of biological processes\footnote{\url{http://sbml.org/Main_Page}}. It is a widely supported format that continues to evolve and expand.

In this report, we will describe the design of a visual modeling environment for synthetic biology, in which biotechnologists can design, simulate and validate a logical circuit built using biobricks. We will clarify our proposed system using a list of requirements (2.2-2.4), a few analysis models (2.5), a business object model (2.6), a few dynamic models (2.7) and a preliminary drawing of the interface (2.8). In chapter 3 we will give a planning of the following of the project.

\section{Proposed system}
\subsection{Overview} 		% (Niels)
In this document, we will provide an analysis and design proposal for a visual modeling environment for synthetic biology, in which biotechnologists can design, simulate and validate a logical circuit built using biobricks.

We have made up a list of requirements which answer the following questions.  What does the application have to do? What doesn't belong in the basic functionality? What kind of programming language will we use to develop this program and when is it due? First we will go into detail on functional requirements (2.2), so what does the program do? Secondly, we will discuss non-functional requirements (2.3). These answer questions like: What programming language will we use, but also how we will increase the usability of the application. Finally we will have a look at constraints (2.4).

Following the requirements we will specify a few use case models (2.5). These models describe specific scenarios of the program, what steps the user has to take to reach a goal and how the system should react to these steps. The main scenarios we will specify are loading/saving, modeling and simulating. Dynamic models such as sequence diagrams and activity diagrams will visualize the steps and interaction of the user and system in chapter 2.7.

Our business object model (2.5) will clarify the key concepts and their roles of our application. It will give a simplified overview of how proteins, biobricks and the System Biology Markup Language (SBML) relate to each other.

Last but not least, we will show a preliminary drawing of our interface (2.8) and explain why we have chosen for this interface and how it will work. Chapter 3 contains a planning for the rest of the project. This schedule is built up around the deadlines for the other documents and has a preliminary planning for the implementation fase.

\pagebreak
\subsection{Functional requirements}
The following are use cases the application must be able of completing in whatever way.

\begin{enumerate}
\item \textbf{Circuit abstraction} The application must be able to abstract a designed circuit into a BioBrick, and then treat this as a gate, so it can be used in building of subsequent circuits/BioBricks. 

\item \textbf{Protein specification} The user must be able to manually specify which protein is used to represent which signal in a circuit.

\item \textbf{Available proteins} The application must be able to present the user with an overview of available proteins to assign to signals. The available proteins must be predefined by a user.

\item \textbf{Export XML} The application must be able to export a built circuit as a BioBrick in XML (in the SBML schema).
\item \textbf{Import XML} The application must be able to import XML (in the SBML schema) into the application as a BioBrick.
\item \textbf{Interfering/invalid signals} The application must be able to notify the user that the current circuit design has protein(s) assigned to multiple signals, or still has signals which do not have a protein assigned.
\end{enumerate}

\subsection{Non-functional requirements}
Non-functional requirements are requirements about how the application behaves and operates (usability, accessibility, availability, performance). In this section we will also cover constraints on the source-code and development (programming language, documentation, tools/frameworks, compatibility, extensibility, maintainability, testability, deadlines).

\begin{enumerate}
\item \textbf{Documentation} For documentation we will use \LaTeX  to finalize the reports and will be written in English. GIT will be used for hosting and collaborating on documentation.
\item \textbf{Tools/frameworks} As mentioned before, we will use GIT and \LaTeX, but also other tools for this project. The program will be written in mutiple languages. We will create the GUI and frontend in JavaScript. The backend will be implemented in Java. The tools we will use to test this are JUnit and Crawljax. Furthermore, we will use the Java library LibSBML to implement the saving/exporting of our BioBricks.
\item \textbf{Testability} We want to be able to test every detail. We will look at three major subjects: user-friendliness, errors in the web application and errors in the java backend. To test user-friendliness we will have normal people try our program to test the feel of the program. We will use crawljax to find as many errors in the web application as possible. Crawljax is a sort of bot which tries every possible option in a webbased application. We will use JUnit to test the java backend.

\item \textbf{Usability} Because the program is not made for information technology students, we will spend some time increasing the usability. However, the target group consists of scientists, and to be more specific, mainly bio-informatics experts. Because of this, we will not create step-by-step tutorials. Our aim is to make the application basic enough so a regular scientist can work with the application, without detailed tutorials.

\item \textbf{Extensibility} We want to create our application in such a way that BioBricks can be exported and re-used later as part of even greater BioBricks. As for the application, it is always best practice to make the application extendable, and so we shall aim for that.

\item \textbf{Maintainability} Maintainability is also very important, not only for future use but also for the development process. Because of the agile workform we will be maintaining, it is crucial to keep an oversight and a well defined structure within our program. If we lose this, there is a high risk of bugs and superfluous code.

\item \textbf{Accessibility} Because our application frontend will be written for the web, we will host it somewhere and it should be accessible from anywhere, if there is internet. From the time of launch of our first version until the end of the project, there should always be a testable version hosted somewhere. It's also likely that we will use modern frameworks such as Bootstrap CSS to provide a high start-level of usability, although this has not been decided yet. The use of such well developed frameworks guarantees a high accessibility of the website.

\item \textbf{Deadline} The architectural design will be finished on the 16th of March (16-03-2012). The test and implementation plan will be done on the 23rd of March (23-03-2012). The first version is up for evaluation on the 4th of May (04-05-2012). The final version of the application and the final report are due on the 15th of June (15-06-2012).
\item \textbf{Biological plausibility} The application does \textit{not} have to give an biologically accurate or plausible simulation.

\item \textbf{Frontend} The GUI frontend of the application will be a website written in HTML+CSS+JavaScript. This means our application frontend will be compatible with all the big operating systems that support web browsers.\item \textbf{Backend} The backend will be written in Java Server Pages.
 
\end{enumerate}
\pagebreak
\subsection{Analysis models, descriptions and scenarios}
\subsubsection{Use case model}
\begin{figure}[h!]
	\caption{Usecase diagram}
	\centering\include{pictures/usecase}
\end{figure}

{\bf Start application}\\
\begin{tabular}{ | l |@{}l@{}| } \hline
Primary Actor	& \; User \\  \hline
Pre-condition	& \; The application was closed. \\  \hline
Post-condition	& \; The application is ready for modeling.	\\  \hline
Flow of events	& 
	\begin{tabular}{c | l | l}
	   & Actor Input 	& System Response 	\\  \hline
	1. & Start application. &				\\  \hline
	2. & & The application opens and displays the initial program state. \\
	\end{tabular} \\ \hline
\end{tabular}\\

{\bf Quit application}\\
\begin{tabular}{ | l |@{}l@{}| } \hline
Primary Actor	& \; User \\  \hline
Pre-condition	& \; The application is running. \\  \hline
Post-condition	& \; The application has stopped running and is closed.	\\  \hline
Flow of events	& 
	\begin{tabular}{c | l | l}
	   & Actor Input 	& System Response 	\\  \hline
	1. & Press close button. &				\\  \hline
	2. & & The application will abort its actions and close. \\
	\end{tabular} \\ \hline
\end{tabular}\\

{\bf Specify protein for signal}\\
\begin{tabular}{ | l |@{}l@{}| } \hline
Primary Actor	& \; User \\  \hline
Pre-condition	& \; The working area is showing at least one wire. \\  \hline
Post-condition	& \; The wire has a specific protein appointed to it.	\\  \hline
Flow of events	& 
	\begin{tabular}{c | l | l}
	   & Actor Input 	& System Response 	\\  \hline
	1. & Click the wire or its connector. &	\\  \hline
	2. & & The selection dialog with available proteins is showed. \\  \hline
	3. & Double click the wanted protein. &	\\  \hline
	4. & & The selected protein is appointed to the wire. \\
	\end{tabular} \\ \hline
\end{tabular}\\

{\bf Model BioBrick}\\
\begin{tabular}{ | l |@{}l@{}| } \hline
Primary Actor	& \; User \\  \hline
Pre-condition	& \; The application is in its initial state. \\  \hline
Post-condition	& \; The application is showing the modeled BioBrick.	\\  \hline
Flow of events	& 
	\begin{tabular}{c | l | l}
	   & Actor Input 	& System Response 	\\  \hline
	1. & Drag and drop elemental parts into the working area. &	\\  \hline
	2. & & The working area is showing the specified elemental parts. \\  \hline
	3. & Connect the gates with wires. &	\\  \hline
	4. & & The working area is showing a connected biological circuit. \\  \hline
	5. & Select the protein signals for each wire. &	\\  \hline
	6. & & The working area is showing a connected biological circuit. \\
	\end{tabular} \\ \hline
\end{tabular}\\

{\bf Simulate BioBrick model}\\
\begin{tabular}{ | l |@{}l@{}| } \hline
Primary Actor	& \; User \\  \hline
Pre-condition	& \; The application is showing a valid model. \\  \hline
Post-condition	& \; The application is showing a simulation of the output signal(s) over time.	\\  \hline
Flow of events	& 
	\begin{tabular}{c | l | l}
	   & Actor Input 	& System Response 	 \\  \hline
	1. & Press simulate button in menu. &	 \\  \hline
	2. & & The simulate menu is displayed.	 \\  \hline
	3. & Press the start simulation button & \\  \hline
	4. & & The application will show a simulation of the output signal(s) over time. \\
	\end{tabular} \\ \hline
\end{tabular}\\

{\bf Import SMBL}\\
\begin{tabular}{ | l |@{}l@{}| } \hline
Primary Actor	& \; User \\  \hline
Pre-condition	& \; The application is ready to model and file is a valid SBML file. \\  \hline
Post-condition	& \; The application has imported an SBML file and the circuit is displayed.	\\  \hline
Flow of events	& 
	\begin{tabular}{c | l | l}
	   & Actor Input 	& System Response 	\\  \hline
	1. & Press brick button in menu. &		\\  \hline
	2. & & The brick menu is displayed. 	\\  \hline
	3. & Press the import SBML button. &	\\  \hline
	4. & & Choose file dialog is displayed. \\  \hline
	5. & Choose file and press OK. &		\\  \hline
	6. & & The SBML model is loaded from the specified file and displayed. \\
	\end{tabular} \\ \hline
\end{tabular}\\

{\bf Import invalid SMBL}\\
\begin{tabular}{ | l |@{}l@{}| } \hline
Primary Actor	& \; User \\  \hline
Pre-condition	& \; The application is ready to model and file is an invalid SBML file. \\  \hline
Post-condition	& \; The application has shown an error message and has not imported anything.	\\  \hline
Flow of events	& 
	\begin{tabular}{c | l | l}
	   & Actor Input 	& System Response 	\\  \hline
	1. & Press brick button in menu. &		\\  \hline
	2. & & The brick menu is displayed. 	\\  \hline
	3. & Press the import SBML button. &	\\  \hline
	4. & & Choose file dialog is displayed. \\  \hline
	5. & Choose file and press OK. &		\\  \hline
	6. & & An error message is shown stating that given file is corrupt and the application has not imported anything. \\
	\end{tabular} \\ \hline
\end{tabular}\\

{\bf Export SBML}\\
\begin{tabular}{ | l |@{}l@{}| } \hline
Primary Actor	& \; User \\  \hline
Pre-condition	& \; The application is showing a model. \\  \hline
Post-condition	& \; The application has exported an SBML file.	\\  \hline
Flow of events	& 
	\begin{tabular}{c | l | l}
	   & Actor Input 	& System Response 	\\  \hline
	1. & Press brick button in menu. &		\\  \hline
	2. & & The brick menu is displayed. 	\\  \hline
	3. & Press the export SBML button. &	\\  \hline
	4. & & Choose file dialog is displayed. \\  \hline
	5. & Choose file and press OK. &		\\  \hline
	6. & & The SBML is saved to the specified file. \\
	\end{tabular} \\ \hline
\end{tabular}\\

\pagebreak
\subsection{Business Object model} % (Albert)
The objects of our model are the proteins, the biobricks, the circuits and the Systems Biology Markup Language.

The protein is the smallest building block of the model, with proteins and gates we can form Biobricks. These Biobricks can then be connected to each other to form a circuit. The Systems Biology Markup Language (SBML) can be used to represent and describe these circuits. So from the circuit the resulting SBML can be obtained and vice versa.
\begin{figure}[h!]
	\caption{Business Object model}
	\centering\include{pictures/bom}
\end{figure}

\subsection{Dynamic models}
When the user enters the program, two options are available, he can import an existing circuit (SBML-file) or create a new one. The user then edits the circuit to suit his needs. After the editing the circuit can be simulated, if the user choses the proteins wrong an error will occur and more editing will be in order, if the user decides he is not done yet with editing he can continue after the simulation. When the user is done he can save the circuit as a SBML-file.
\begin{figure}[h!]
	\label{fig-gui}	
	\caption{Activity diagram}
	\centering\include{pictures/activity}
\end{figure}
\pagebreak

% interface subsection is in a separate file
\include{subsection-interface}

\pagebreak
\section{Planning}  % (Felix)
\begin{tabular}{llll}
\textbf{Date}   &Deliverable/Event\\\hline
\textbf{02.03.2012}      &Deadline \textbf{draft} RAD document\\\hline
\textbf{09.03.2012}      &Deadline RAD document\\\hline
\textbf{Q3 W5}           &First Peer-Review\\\hline
\textbf{10.03.2012 }     &Deadline \textbf{draft} Architectural Design document\\\hline
\textbf{14.03.2012 }     &Deadline \textbf{draft} Test and Implementation plan\\\hline
\textbf{16.03.2012 }     &Deadline Architectural Design document\\\hline
\textbf{23.03.2012 }     &Deadline Test and Implementation plan\\\hline
\textbf{04.05.2012}      &Deadline upload source code to SIG for first evaluation)\\\hline
\textbf{Q4 W4 }          &Second Peer-Review\\\hline
\textbf{24.05.2012}      &Feedback SIG evaluation by Eric Bouwers (10:00-11:00, room TBA)\\\hline
\textbf{06.06.2012}      &Deadline \textbf{draft} Final Report\\\hline
\textbf{15.06.2012}      &Deadline Final Report\\\hline
\textbf{15.06.2012}      &Deadline upload source code to SIG for final evaluation\\\hline
\textbf{20.06.2012}      &(morning)    student presentations within each context\\\hline
\textbf{20.06.2012}      &(afternoon)  plenary presentations of the best projects per context\\\hline
\end{tabular}
\pagebreak
\section{Glossary} % (Jan Pieter)
\begin{description}
	\item[BioBrick] Isolated and documented cell function to be reused in future projects. For example, the production of a light emitting protein when some other protein is available.
	\item[Circuit] What we think of as a circuit is actually just a cell wherein all signals and gates are proteins and parts of the DNA, mixed together without any separation.
	\item[DNA] \text{Deoxyribonucleic acid} is a very long molecule containing the information needed to support the life in allmost all creatures.
	\item[Protein] a complex molecule produces by certain processes in the cell. In turn it can activate other processes, or perform functions such as emission of light or change color.
	\item[RNA] Working copy of the information in the DNA. This copy is then used to synthesize proteins.
	\item[SBML] \textit{Systems Biology Markup Language} is a XML-based format for storage of various computermodels of biological processes.
	\item[Simulation] Execution of a set of differential equations in order to predict the output of the modelled circuit
	\item[Transcription] Process of making the mRNA-copy of the DNA master.
\end{description}
\end{document}
