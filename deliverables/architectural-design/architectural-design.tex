\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage{fullpage}
\usepackage{amsmath,amssymb}
\usepackage[colorlinks]{hyperref} % use colored text in stead of ugly boxes
\usepackage[toc]{multitoc} % Nice two-column TOC

\usepackage{pgf}
\usepackage{tikz}
\usepackage{pictures/tikz-uml}

\title{Programming Life - Architectural Design }

\author{Group 5/E:\\
Felix Akkermans \\
Niels Doekemeijer \\
Thomas van Helden \\
Albert ten Napel \\
Jan Pieter Waagmeester}

\begin{document}
\maketitle

\vfill

\small{\tableofcontents}
\pagebreak
\section{Introduction}
\subsection{Purpose of the System}
\subsection{Design Goals}
\subsection{Definitions, acronyms and abbreviations}
\subsection{References}
\subsection{Overview}

\section{Proposed software architecture}
\subsection{Overview}
\subsection{Subsystem Decomposition}
(which sub-systems and dependencies are there between the sub-systems?)

\subsubsection{Interface (API) of each sub-system}

We propose the following API for the server-side of our application. Every model is represented by an object which stores the needed information. It is basically a directed graph with building blocks as nodes. \\
\begin{description}
	\item[listFiles(): list of filenames] -
		Returns a list of available models.\\
		If there are no available files, then it returns an empty list.
	\item[getFile(fileName): model] -
		Returns the BioBrick model stored in fileName.\\
		If the file does not exist or if the file is corrupt, it will give an error.
	\item[putFile(fileName, model)] -
		Stores model in a file called fileName.\\
		If something goes wrong while saving, it will give an error.
	\item[listProteins(): list of proteins] -
		Returns a list of proteins, including their meta-data.\\
		With absence of information, it will give an error.
	\item[listModels(): list of models] -
		Returns a list with a model for all available files.\\
		Returns an empty list when there are no available files.
	\item[modelToSBML(model, fileName)] -
		Exports model to an SBML file and saves it to a file called fileName.\\
		Returns an error if model is not a valid model.\\
		Returns an error if saving failed.
	\item[simulate(fileName, inputValues): outputValues] -
		Simulates the SMBL model saved in fileName with given input values and returns the matching outputvalues.\\
		Returns an error if the simulation of the file failed.
	\item[validate(model): boolean] -
		Validates the model and returns true if model has everything defined to simulate it, and returns false otherwise.\\
\end{description}

For the client-side of our application, we will not follow a predefined API. As the client will only implement the view part of the model, view controller (MVC) system, it will only reuse the API of the server and not implement an API of its own. Messages between server and client will be passed using JSON objects. \\

\begin{figure}[h!]
\caption{Examples of JSON responses}
Generic response:
\begin{verbatim}
{
  "success": boolean,
  "message": string,
  "data": object
}
\end{verbatim}
Response of getFiles(): \begin{verbatim}
{
  "success": true,
  "message": "",
  "data": [
    "example1.syn",
    "d-flipflop.syn",
    "xor-gate.syn"
  ]
}
\end{verbatim}
Response for getFile(fileName) for a non-existing file:
\begin{verbatim}

{
  "success": false,
  "message": "Requested file not found.",
  "data": {}
}
\end{verbatim}
\end{figure}

\subsection{Hardware/Software Mapping}
Our architecture is composed of two major elements, the client implemented as a web application and the server, implemented in Java. The browser has to be a recent version of one of the major browser\footnote{We'll test in Google Chrome and Firefox}, the supporting system is not relevant. The server can be run on the same machine, which is likely to be the same machine during the development stage.

\include{raw-in/Pers_Data_Acces_Control_Concurrency}
%\subsection{Persistent Data Management}
%(file/ database, database design)
%\subsection{Global Resource Handling and Access Control for the different actors}
%\subsection{Concurrency}
%(which processes run in parallel, how do they communicate, how are deadlocks prevented?)

\subsection{Boundary Conditions}
(how is the system started and stopped, what happens
in case of a system crash)


\end{document}
