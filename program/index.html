<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="description" content="Synthetic biological circuit modelling and simulation web application">
	<meta name="author" content="Group E">
	<title>Zelula</title>
	
	<!-- Le styles -->
	<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" media="all" />
	<link href="css/bootstrap-datatables.css" rel="stylesheet" type="text/css" media="all" />
	<link href="css/style.less" rel="stylesheet/less" type="text/css" media="all" />
	
	<!-- Le fav icon -->
	<link rel="icon" href="img/favicon.png">
</head>

<body>


	<!-- Le NaffBarr -->
	<!-- ================================================== -->
	<nav class="navbar">
		<aside class="nav" id="title"><div id="icon"></div>Zelula</aside>
		<ul class="nav">
			<li class="dropdown">
				<a href="javascript: void(0);" class="dropdown-toggle" data-toggle="dropdown">File<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="javascript: void(0);" id="new">New</a></li>
					<li><a href="#files" data-toggle="modal" id="open">Open</a></li>
					<li><a href="javascript: void(0);" id="save">Save</a></li>
					<li><a href="#files" data-toggle="modal" id="save-as">Save As…</a></li>
					<li class="divider"></li>
					<li><a href="javascript: void(0);" id="exit">Exit application</a></li>
				</ul>
			</li>
			<li class="dropdown">
				<a href="javascript: void(0);" class="dropdown-toggle" data-toggle="dropdown">Simulate<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="javascript:void(0)" id="validate">Validate circuit</a></li>
					<li><a href="#list-proteins" data-toggle="modal">Show proteins</a></li>
					<li class="divider"></li>
					<li><a href="#define-inputs" data-toggle="modal">Define inputs</a></li>
					<li><a href="#show-output" data-toggle="modal">Show output graph</a></li>
					<li class="divider"></li>
					<li><a href="javascript: void(0)" id="simulate">Run solver</a></li>
				</ul>
			</li>
			<li><a href="#about" data-toggle="modal">About</a></li>
		</ul>
		<h4 id="circuit-details">
			<i id="circuit-filename">circuit filename</i>
			<strong id="circuit-description">"Circuit Description."</strong>
			<button class="btn btn-inverse btn-synthbio">Edit</button>
		</h4>
	</nav>

	<!-- Le Gates Tab (on the left) -->
	<!-- ================================================== -->
	<aside id="gates-tab" class="stretch">
		<h3>Basic gates</h3>
		<div id="gates-basic" class="gates">
			<div class="gate not">
				<embed src="img/gates/not.svg" type="image/svg+xml" />
				<div class="mask"></div>
				<h4>NOT-gate</h4>
				<p class="subscript">
					Inverts signal<br>in:1<br>out:1
				</p>
			</div>
			<div class="gate and">
				<embed src="img/gates/and.svg" type="image/svg+xml" />
				<div class="mask"></div>
				<h4>AND-gate</h4>
				<p class="subscript">
					Factors both<br>in:2<br>out:1
				</p>
			</div>
		</div>
		<h3>Compound gates</h3>
		<div id="gates-compound" class="gates">
		
		</div>

		<!-- Le Circuit Details tab (on the bottom left) -->
		<!-- ================================================== -->
	</aside>

	<style>
		.dragActive { border:2px dotted orange; }
		.dragHover { border:2px dotted red; }
		._jsPlumb_endpoint { z-index: 10 }
	</style>

	<!-- Le grid (smack in the middle, hm hm) -->
	<!-- ================================================== -->
	<!-- this is where all the shizzle goes down! I'm tellin' ya -->
	<div id="grid-container" class="stretch">
		<div id="gate-input" class="gate input"><h4 class="handle"><i class="icon-grip"></i>Inputs<i class="icon-grip"></i></h4></div>
		<div id="gate-output" class="gate output"><h4 class="handle"><i class="icon-grip"></i>Outputs<i class="icon-grip"></i></h4></div>
	</div>

	<!-- Le simulation tab (just below the grid) -->
	<!-- ================================================== -->
	<!-- this is where all the simulation related graphs are shown (in a seperate tab) and also validation results -->

	<div id="simulation-tab" class="stretch" style="display: none">
		<ul class="nav nav-tabs navbar">
			<li><a href="#inputs" data-toggle="tab">Inputs</a></li>
			<li><a href="#outputs" data-toggle="tab">Outputs</a></li>
			<li><a href="#validation" data-toggle="tab">Validation</a></li>
		</ul>
		<div class="tab-utilities">
			<a class="close">×</a>
		</div>
		<div class="tab-content">
			<div class="tab-pane active" id="inputs">homebla</div>
			<div class="tab-pane" id="outputs">profile</div>
			<div class="tab-pane" id="validation">message</div>
		</div>
	</div>
	
	<!-- Le Status Bar (at the bottom) -->
	<!-- ================================================== -->
	<footer class="status subscript">
		<img id="info-icon" src="img/info.png" alt="Info:" /><span id="info"></span>
		<span id="ping">Server status: <b>Connecting to server <em class="icon-connecting"></em></b></span>
	</footer>
	
	<!-- Gate dragging transport layer -->
	<!-- ================================================== -->
	<!-- This overlaps the aside gate tab and the grid container, and is used to transport dragging gates over this boundary -->
	<div id="gates-transport" class="stretch"></div>
	
	<!-- Le Modals -->
	<!-- ================================================== -->

	<!--
	Modal with an about dialog
	-->
	<div class="modal hide fade in" id="about" data-keyboard="true">
		<div class="modal-header">
			<a class="close" data-dismiss="modal">×</a>
			<h3>About</h3>
		</div>
		<div class="modal-body">
			<p>
				Project Zelula is a modelling and simulation package to simulate the protein <em>logic</em> in a cell. With a provided set of BioBricks representing AND- and NOT gates, the user is able to design interactions between the different BioBricks. The resulting circuit can be simulated using an ODE-solver.
			</p>
			<p>
				Project Zelula is a <em>Contextproject</em> at TU Delft, university of technology. 
			</p>
			<p>
				For more information, visit: <a href="https://github.com/FelixAkk/synthbio/">our GitHub page</a>
			</p>
		</div>
		<div class="modal-footer">
			<a href="javascript: void(0);" class="btn" data-dismiss="modal">Close</a>
		</div>
	</div>

	<!--
	Modal to define input signals.
	@author Jieter
	-->
	<div class="modal hide fade in" id="define-inputs" data-keyboard="true">
		<div class="modal-header">
			<a class="close" data-dismiss="modal">×</a>
			<h3>Define input signals</h3>
		</div>
		<div class="modal-body">
			<div id="simulation-advanced-toggle" class="btn btn-small">Advanced</div>
			<div id="simulation-advanced" class="hide">
				<form class="form-horizontal">
					<div class="control-group">
						<label class="control-label" for="simulate-tick-width">Tick width</label>
						<div class="controls">
							<div class="input-append">
								<input type="text" id="simulate-tick-width" class="input-mini" /><span class="add-on">s</span>
							</div>
							<p class="help-block">Duration of each tick in seconds.</p>
						</div>
					</div>
					<div class="control-group">
						<label class="control-label" for="simulate-length">Length</label>
						<div class="controls">
							<div class="input-append">
								<input type="text" id="simulate-length" class="input-mini" />	<span class="add-on">ticks</span>
							</div>
							<p class="help-block">Number of ticks to be simulated.</p>
						</div>
					</div>
					<div class="control-group">
						<label class="control-label">Levels</label>
						<div class="controls">
							<div class="input-prepend input-append">
								<span class="add-on">low</span><input type="text" id="simulate-low-level" class="input-mini" /><span class="add-on" title="micromole/L">&micro;M</span>
							</div>
							&nbsp;&nbsp;
							<div class="input-prepend input-append">
								 <span class="add-on">high</span><input type="text" id="simulate-high-level" class="input-mini" /><span class="add-on" title="micromole/L">&micro;M</span>
							</div>
							<p class="help-block">Concentrations for input levels.</p>
						</div>
					</div>
				</form>
			</div>
			<div class="x-axis" title="One tick equals one second"> t &rarr;</div>
			<div id="input-signals"></div>
		</div>
		<div class="modal-footer">
			<div id="save-inputs-and-simulate" class="btn" data-dismiss="modal">Save &amp; simulate</div>
			<div id="save-inputs" class="btn btn-primary" data-dismiss="modal">Save input</div>
		</div>
	</div>

	<!--
	Modal to display output graph.
	@author Niels
	-->
	<div class="modal hide fade in" id="show-output" data-keyboard="true">
		<div class="modal-body">
			<div id="chart-group"></div>
			<div id="chart-separate" class="hide">Please simulate first.</div>
		</div>
		<div class="modal-footer">
			<a href="javascript: void(0);" id="toggle-charttype"  class="btn">Separate charts</a>
			<a href="javascript: void(0);" class="btn btn-primary" data-dismiss="modal">Close</a>
		</div>
	</div>

	<!--
	Modal to interact with files/circuits on the server.
	-->
	<div class="modal hide fade in" id="files" data-keyboard="true">
		<div class="modal-header">
			<a class="close" data-dismiss="modal">×</a>
			<h3>Files on server</h3>
		</div>
		<div class="modal-body">
			<table class="table table-bordered">
				<thead>
				<tr>
					<th>Filename</th>
					<th>Gates</th>
					<th>Last modified</th>
				</tr>
				</thead>
				<tbody>
				<tr><td colspan="3">loading...</td></tr>
				</tbody>
			</table>
		</div>
		<div class="modal-footer">
			<form class="typeahead-group form-search modal-form" onsubmit="return false;">
				<input type="text" class="span3" data-provide="typeahead" data-items="4" placeholder="Filter..." />
				<button type="submit" class="btn btn-primary">File action</button>
			</form>
			<a href="javascript: void(0);" class="btn" data-dismiss="modal">Close</a>
		</div>
		<!-- wrapper to fade in this extra footer by using the height property -->
		<div class="modal-alert-fader">
			<!-- extra footer for displaying warnings, errors and info -->
			<div class="modal-footer"></div>
		</div>
	</div>

	<!--
	Modal to display a list of proteins
	-->
	<div class="modal hide fade in" id="list-proteins" data-keyboard="true">
		<div class="modal-header">
			<a class="close" data-dismiss="modal">&times;</a>
			<h3>List of available proteins</h3>
		</div>
		<div class="modal-body">
			<table class="table table-striped table-bordered" style="margin-bottom: 0;">
				<thead>
					<tr>
						<th></th>
						<th>k<sub>2</sub></th>
						<th>d<sub>1</sub></th>
						<th>d<sub>2</sub></th>
					</tr>
				</thead>
				<tbody>
					<tr><td colspan="4">loading...</td></tr>
				</tbody>
			</table>
		</div>
		<div class="modal-footer">
			<input type="text" data-provide="typeahead"  placeholder="Filter..." />
			<a href="javascript: void(0);" class="btn btn-primary" data-dismiss="modal">Close</a>
		</div>
	</div>
	
	<!--
	Modal to complain about the state of the connection.
	-->
	<div class="modal hide fade in" id="connection-modal" data-keyboard="true">
		<div class="modal-header">
			<a class="close" data-dismiss="modal">&times;</a>
			<h3>Connection problems</h3>
		</div>
		<div class="modal-body">
			<p>Oops! It looks like no server could be found.</p>
			<p>The server should be responding at AJAX requests on <pre class="prettyprint">/Ping</pre> on 
			the same address as the page is loaded from. A guide to setup the server can be found on the 
			project GitHub in <a href="">this Wiki article</a>.</p>
		</div>
		<div class="modal-footer">
			<a href="javascript: void(0);" class="btn btn-primary" data-dismiss="modal">Close</a>
		</div>
	</div>

	<!--
	Validation result modal.
		Must be a better way, but this works and is quick.
	-->
	<div class="modal hide fade in" id="validate-alert" data-keyboard="true">
		<div class="modal-header">
			<a class="close" data-dismiss="modal">×</a>
			<h3>Circuit validation result</h3>
		</div>
		<div class="modal-body">
			<p></p>
		</div>
		<div class="modal-footer">
			<a href="#" class="btn" data-dismiss="modal">Ok</a>
		</div>
	</div>
	
	<!-- Le javascript -->
	<!-- ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script type="application/javascript" language="javascript" src="js/lib/jquery-1.7.2.min.js"></script>
	<script type="application/javascript" language="javascript" src="js/lib/jquery-ui-1.8.19.min.js"></script>
	<script type="application/javascript" language="javascript" src="js/lib/jquery.jsPlumb-1.3.9-all-min.js"></script>
	<script type="application/javascript" language="javascript" src="js/lib/jquery.dataTables-1.9.1-min.js"></script>
	<script type="application/javascript" language="javascript" src="js/lib/bootstrap.min-0.1.js"></script>
	<script type="application/javascript" language="javascript" src="js/lib/bootstrap-datatables-2.0.js"></script>
	<script type="application/javascript" language="javascript" src="js/lib/highstock-1.1.5.js"></script>
	<script type="application/javascript" language="javascript" src="js/lib/highstock-exporting-1.1.5.js"></script>
	<script type="application/javascript" language="javascript" src="js/lib/less-1.3.0.min.js"></script>

	<script type="application/javascript" language="javascript" src="js/util.js"></script>
	<script type="application/javascript" language="javascript" src="js/models.js"></script>
	<script type="application/javascript" language="javascript" src="js/circuit.js"></script>
	<script type="application/javascript" language="javascript" src="js/requests.js"></script>

	<script type="application/javascript" language="javascript" src="js/gui-input.js"></script>
	<script type="application/javascript" language="javascript" src="js/gui-proteins.js"></script>
	<script type="application/javascript" language="javascript" src="js/gui-files.js"></script>
	<script type="application/javascript" language="javascript" src="js/gui-simulate.js"></script>
	<script type="application/javascript" language="javascript" src="js/gui-workspace.js"></script>
	<script type="application/javascript" language="javascript" src="js/gui.js"></script>
</body>
</html>
